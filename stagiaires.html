<!doctype html>

<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <!-- Required meta tags -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Suivi d'un stagiaire</title>
  
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.23/css/dataTables.bootstrap4.min.css">
  
  <link rel="stylesheet" href="bootstrap-sncf.metier.v4.3.1-r5/bootstrap-sncf.min.css">
  <link rel="stylesheet alternate" href="bootstrap-sncf.metier.v4.3.1-r5/bootstrap-sncf.darkmode.min.css">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" type="text/css" href="jquery.dataTables.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/buttons/1.6.5/css/buttons.dataTables.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/searchpanes/1.2.1/css/searchPanes.dataTables.min.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.3.1/css/select.dataTables.min.css">
</head>

<body>
    <div id="includedContentAC8"></div>
    <nav role="navigation" class="mastnav">
        <ul class="mastnav-top">
          <li>
            <a href="reportingac.html" class="mastnav-item">
                <i class="icons-large-france icons-size-1x5 " aria-hidden="true"></i>
                <span class="font-weight-medium">Zone de Production</span>
            </a>
            <a href="reportingacEtab.html" class="mastnav-item">
              <i class="icons-large-building icons-size-1x5 " aria-hidden="true"></i>
              <span class="font-weight-medium">Établissements</span>
            </a>
          </li>
          <li>
            <a href="stagiaires.html" class="mastnav-item active">
              <i class="icons-circle-account-connected icons-size-1x5 " aria-hidden="true"></i>
              <span class="font-weight-medium">Suivi agent</span>
            </a>
          </li>


        </ul>
        <div class="mastnav-bottom d-none d-lg-block">
          <a href="#" class="mastnav-item mastnav-item-horizontal">
            <i class="icons-support icons-size-1x5" aria-hidden="true"></i>
            <span class="font-weight-medium">Support</span>
          </a>
        </div>
      </nav>

    <div class="container-fluid">
        <h1 class="text-center mb-5"> Suivi de stagiaires </h1>
        <div class="row">
                <div class="col-md-4 offset-md-1">
                    <div class="input-group">
                        <div class="form-control-container col-md-5 whiteinput autocomplete">
                            <input list="code" type="text" id="choix_bieres" class="whiteinput border-0 form-control">
                            <datalist id="code">
                              <option value="VCE40124">
                              <option value="VA216000">
                            </datalist>
                        </div>
                        <div class="input-group-append">
                          <button type="button" class="btn btn-primary btn-only-icon">
                            <i class="icons-search" aria-hidden="true"></i>
                            <span class="sr-only">Rechercher sur le site</span>
                          </button>
                        </div>
                    </div>
                  
                </div>

                <div class="col-md-11 mt-5 offset-md-1">
                    <div class="table-wrapper">
                        <div class="table-scroller last-cell-fixed dragscroll">
                          
                          <div id="container" style="width:100%; height:400px;"></div>
                          <table class="table display" id="example">
                            <thead class="thead bg-secondary">
                              <tr>
								<th scope="col"><div class="cell-inner text-white">CP <br /> NOM Prénom</div></th>
                                <th scope="col"><div class="cell-inner text-white">Etablissement</div></th>
								<th scope="col"><div class="cell-inner text-white">Code RAF</div></th>
                                <th scope="col"><div class="cell-inner text-white">Code Session</div></th>
                                <th scope="col"><div class="cell-inner text-white">Lieu</div></th>
                                <th scope="col"><div class="cell-inner text-white">Groupe</div></th>
								<th scope="col"><div class="cell-inner text-white">Date début</div></th>
                                <th scope="col"><div class="cell-inner text-white">Date fin</div></th>
								<th scope="col"><div class="cell-inner text-white">Statut</div></th>
                              </tr>
                            </thead>
                            <tbody class="tbody">
                              <tr>
                                <td><div class="cell-inner text">9800000N<br /> GRIEZMAN Antoine</div></td>
								<td><div class="cell-inner text"> Infrapôle Paris Sud-Est</div></td>
                                <td><div class="cell-inner text"> VT140000</div></td>
                                <td><div class="cell-inner"> NVT000185</div></td>
                                <td><div class="cell-inner"> Bègles</div></td>
								<td><div class="cell-inner"> OPSEG_20_6_1</div></td>
                                <td><div class="cell-inner"> 21/06/2021</div></td>
                                <td><div class="cell-inner"> 25/06/2021</div></td>
                                <td class="bg-success text-white"><div class="cell-inner"> REALISE </div></td>
                              </tr>
							  <tr>
                                <td><div class="cell-inner text">12345678A<br /> Giroud</div></td>
								<td><div class="cell-inner text"> Infrapôle Paris Nord</div></td>
                                <td><div class="cell-inner text"> VT180000</div></td>
                                <td><div class="cell-inner"> NVT000248</div></td>
                                <td><div class="cell-inner"> Bègles</div></td>
								<td><div class="cell-inner"> OPSEG_20_6_1</div></td>
                                <td><div class="cell-inner"> 21/06/2021</div></td>
                                <td><div class="cell-inner"> 25/06/2021</div></td>
                                <td class="bg-info text-white"><div class="cell-inner"> EN COURS </div></td>
                              </tr>
							  <tr>
                                <td><div class="cell-inner text">9800000N<br /> GRIEZMAN Antoine</div></td>
								<td><div class="cell-inner text"> Infrapôle Paris Sud-Est</div></td>
                                <td><div class="cell-inner text"> VT160000</div></td>
                                <td><div class="cell-inner"> NVT000140</div></td>
                                <td><div class="cell-inner"> Bègles</div></td>
								<td><div class="cell-inner"> OPSEG_20_6_1</div></td>
                                <td><div class="cell-inner"> 21/06/2021</div></td>
                                <td><div class="cell-inner"> 25/06/2021</div></td>
                                <td class="bg-danger text-white"><div class="cell-inner"> ANNULE </div></td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<script src="bootstrap-sncf.metier.v4.3.1-r5/bootstrap-sncf.min.js"></script>
<script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js" ></script>
<script src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js" ></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js" ></script>
<script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.html5.min.js" ></script>
<script src="https://cdn.datatables.net/searchpanes/1.2.1/js/dataTables.searchPanes.min.js"></script>
<script src="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>


<script>
  $(document).ready(function() {
      var table = $('#example').DataTable({
        dom: 'PBfrtip',
        searchPanes: true,
        buttons: [
            {
              extend : 'copyHtml5',
              className : 'btn btn-warning',
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-copy buttons-html5')
              }
            },
            {
              extend : 'excelHtml5',
              className : 'btn btn-success',
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-excel buttons-html5')
              }
            },
            {
              extend : 'csvHtml5',
              className : 'btn btn-success',
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-csv buttons-html5')
                }

            },
            {
                extend: 'pdfHtml5',
                orientation: 'landscape',
                pageSize: 'LEGAL',
                className : 'btn btn-primary',
                init: function( api, node, config) {
                  $(node).removeClass('dt-button buttons-pdf buttons-html5')
                }
            }
        ],
        "language": {
            "url": "//cdn.datatables.net/plug-ins/1.10.22/i18n/French.json"
        }
      });
      table.searchPanes.rebuildPane();
      //console.log(table);
      //var container = $('<div/>').insertBefore(table.table().container());
      //console.log(container);
 
      var chart = Highcharts.chart('container', {
          chart: {
              type: 'pie',
          },
          title: {
              text: 'Stagiaires',
          },
          series: [
              {
                  data: chartData(table),
              },
          ],
 });

 // On each draw, update the data in the chart
 table.on('draw', function () {
     chart.series[0].setData(chartData(table));
 });
  } );

function chartData(table) {
    var counts = {};
 
    // Count the number of entries for each position
    table
        .column(2, { search: 'applied' })
        .data()
        .each(function (val) {
            if (counts[val]) {
                counts[val] += 1;
            } else {
                counts[val] = 1;
            }
        });
 
    // And map it to the format highcharts uses
    return $.map(counts, function (val, key) {
        return {
            name: key,
            y: val,
        };
    });
}


  $(function(){
      $("#includedContentAC8").load("navac.html"); 
    });
  </script>

</body>

</html>